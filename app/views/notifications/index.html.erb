<!-- app/views/notifications/index.html.erb -->

<div style="max-width: 800px; margin: 30px auto; padding: 20px;">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
    <h2>Ειδοποιήσεις</h2>
    <%= link_to "", 
        mark_all_as_read_notifications_path, 
        data: { turbo_method: :patch },
        style: "color: #0084ff; text-decoration: none;" %>
  </div>

  <% if @notifications.any? %>
    <% @notifications.each do |notification| %>
      <div style="background: <%= notification.read? ? '#fff' : '#e7f3ff' %>; 
                  padding: 15px; 
                  margin-bottom: 10px; 
                  border-radius: 8px; 
                  border-left: 4px solid #0084ff;">
        <div style="display: flex; justify-content: space-between;">
          <div>
            <p style="margin: 5px 0; color: #333;"><%= notification.message %></p>
            <small style="color: #999;"><%= time_ago_in_words(notification.created_at) %> πριν</small>
          </div>
          <% unless notification.read? %>
            <span style="color: #0084ff; font-size: 20px;">●</span>
          <% end %>
        </div>
      </div>
    <% end %>
  <% else %>
    <p style="text-align: center; color: #999; padding: 40px;">
      Δεν έχεις νέες ειδοποιήσεις
    </p>
  <% end %>
</div>